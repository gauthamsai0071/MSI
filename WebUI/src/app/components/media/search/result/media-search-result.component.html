<div class="media-search-result-wrapper">
    <div class="list-view-label-wrapper">
        <msi-icon name="ic_data_table" class="ic-data-table"></msi-icon>
        <p class="list-view-label">List View</p>
    </div>
    <table class="msiDatatable" [ngStyle]="{'width': tableWidth+'%'}" msi-data-table #table
        style="width: 100%; min-width: 365px; flex: 1 1; display: block" [rows]="rows"
        [condensed]="false" [sticky]="true" [pinning]="false" [selection]="true" [rowClass]="rowClass"
        [horizontalScrollbar]="true"
        [virtualScroll]="true"
        (scrolledToBottom)="onScroll()">
        <ng-container class="search-results">
            <ng-container msiColDef colType="action" colLock="left" [width]="50" [fixedWidth]="true" *ngIf="table.selection">
                <ng-container *msiHeaderCellDef>
                <msi-checkbox
                    [checked]="table.selectionState === 'all'"
                    [indeterminate]="table.selectionState === 'some'"
                    (click)="table.toggleAllRowsSelected($event)"
                    [disabled]="false">
                </msi-checkbox>
                </ng-container>
                <ng-container *msiCellDef="let row">
                <msi-checkbox
                    [(ngModel)]="table.getRowState(row).selected"
                    (change)="table.updateSelectionState()">
                </msi-checkbox>
                </ng-container>
            </ng-container>
            <ng-container [sortable]="false" [width]="45" [fixedWidth]="true" msiColDef="icon"  [filterable]="false" [draggable]="true"
                [resizable]="true">
                <ng-container *msiHeaderCellDef></ng-container>
                <ng-container *msiCellDef="let row">
                    <msi-icon name="ic_media_play" class="ic-media-play"></msi-icon>
                </ng-container>
            </ng-container> 
            
            <!-- <ng-container [fixedWidth]="fixedWidth" [width]="150" *ngFor="let field of visibleFields" msiColDef="name"
                [sortable]="sortable" [filterable]="false" [draggable]="true" [resizable]="true">
                    <ng-container *msiHeaderCellDef>{{findColumnName(field)}}</ng-container>
                    <ng-container *msiCellDef="let row">
                        <a class="anchor-fileName" href="javascript:void (0)" (click)="onSelect(row)">
                            <div msiTooltip="{{findElement(row, field) }}">
                                {{findElement(row, field) }}
                            </div>
                        </a>
                    </ng-container>
            </ng-container> -->
            <ng-container *ngIf="showhidecoloumns['media_name']" [fixedWidth]="true" [width]="190"  msiColDef="name"
                [sortable]="true" [filterable]="false" [draggable]="true" [resizable]="true">
                    <ng-container *msiHeaderCellDef>Name</ng-container>
                    <ng-container *msiCellDef="let row">
                        <a class="anchor-fileName" href="javascript:void (0)" (click)="onSelect(row)">
                            <div msiTooltip="{{findElement(row, 'media_name') }}">
                                {{findElement(row, 'media_name') }}
                            </div>
                        </a>
                    </ng-container>
            </ng-container>
            <ng-container [width]="170" [fixedWidth]="true" *ngIf="showhidecoloumns['timestamp']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Capture Date</ng-container>
                <ng-container *msiCellDef="let row">
                    {{findElement(row, 'timestamp') }}
                </ng-container>
            </ng-container>
            <ng-container [width]="120" [fixedWidth]="true" *ngIf="showhidecoloumns['mimeType']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Media Type</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'mimeType') }}">
                        {{findElement(row, 'mimeType') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="100" [fixedWidth]="true" *ngIf="showhidecoloumns['media_duration']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Duration</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'media_duration') }}">
                        {{findElement(row, 'media_duration') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="125" [fixedWidth]="true" *ngIf="showhidecoloumns['talkgroupId']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Talkgroup ID</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'talkgroupId') }}" position = 'left'>
                        {{findElement(row, 'talkgroupId') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="120" [fixedWidth]="true" *ngIf="showhidecoloumns['agencyName']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Agency</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'agencyName') }}">
                        {{findElement(row, 'agencyName') }}
                    </div>
                </ng-container>
            </ng-container>            
            <ng-container [width]="93" [fixedWidth]="true" *ngIf="showhidecoloumns['unitId']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Unit ID</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'unitId') }}">
                        {{findElement(row, 'unitId') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="100" [fixedWidth]="true" *ngIf="showhidecoloumns['channel']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Channel</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'channel') }}">
                        {{findElement(row, 'channel') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="93" [fixedWidth]="true" *ngIf="showhidecoloumns['siteId']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Site ID</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'siteId') }}">
                        {{findElement(row, 'siteId') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="93" [fixedWidth]="true" *ngIf="showhidecoloumns['zoneId']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Zone ID</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'zoneId') }}">
                        {{findElement(row, 'zoneId') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="150" [fixedWidth]="true" *ngIf="showhidecoloumns['rscAlias']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Resource Alias</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'rscAlias') }}">
                        {{findElement(row, 'rscAlias') }}
                    </div>
                </ng-container>
            </ng-container>            
            <ng-container [width]="150" [fixedWidth]="true" *ngIf="showhidecoloumns['individualAlias']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Individual Alias</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'individualAlias') }}">
                        {{findElement(row, 'individualAlias') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="100" [fixedWidth]="true" *ngIf="showhidecoloumns['System']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>System</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'System') }}">
                        {{findElement(row, 'System') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="150" [fixedWidth]="true" *ngIf="showhidecoloumns['originatingMDN']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Originating MDN</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'originatingMDN') }}">
                        {{findElement(row, 'originatingMDN') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="150" [fixedWidth]="true" *ngIf="showhidecoloumns['terminatingMDN']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Terminating MDN</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'terminatingMDN') }}">
                        {{findElement(row, 'terminatingMDN') }}
                    </div>
                </ng-container>
            </ng-container>
            <ng-container [width]="150" [fixedWidth]="true" *ngIf="showhidecoloumns['participatingMDN']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Participating MDN</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'participatingMDN') }}">
                        {{findElement(row, 'participatingMDN') }}
                    </div>
                </ng-container>
            </ng-container> 
            <ng-container [width]="150" [fixedWidth]="true" *ngIf="showhidecoloumns['talkgroupName']" msiColDef="Retention" 
                [sortable]="false" [filterable]="false" [draggable]="true" [resizable]="true">
                <ng-container *msiHeaderCellDef>Talkgroup Name</ng-container>
                <ng-container *msiCellDef="let row">
                    <div msiTooltip="{{findElement(row, 'talkgroupName') }}">
                        {{findElement(row, 'talkgroupName') }}
                    </div>
                </ng-container>
            </ng-container>           


        </ng-container>
    </table>
</div>