<app-header></app-header>
<div class="form-wrapper incidents">
    <msi-card>
        <msi-card-title class="msi-border-primary-10">
            <span>{{ title }} Incident</span>
        </msi-card-title>
        <msi-card-content>
            <form [formGroup]="incidentForm" (ngSubmit)="onSubmit()">
                <div class="form-group">
                    <label class="msi-label" for="title">
                        Title
                    </label>
                    <app-input-control [controlName]="'title'" [formResetting]="formResetting" [LabelText]="'Title'">
                        <input class="msi-input" type="text" id="title" autocomplete="title" formControlName="title"
                            [class.error]="!formResetting && formControls.title.invalid" [readonly]="view">
                    </app-input-control>
                </div>
                <div class="form-group">
                    <label class="msi-label" for="creation-time">
                        Creation time
                    </label>
                    <input class="msi-input" type="text" id="creation-time" autocomplete="creation-time"
                        formControlName="creation-time" [readonly]="true">
                </div>
                <div class="form-group">
                    <label class="msi-label" for="update-time">
                        Update time
                    </label>
                    <input class="msi-input" type="text" id="update-time" autocomplete="update-time"
                        formControlName="update-time" [readonly]="true">
                </div>
                <div class="form-group">
                    <label class="msi-label" for="incident-time">
                        Incident time
                    </label>
                    <msi-date-time-picker-control id="incident-time" formControlName="incident-time" [disabled]="view"
                        [dropdown]="true" [defaultValue]="incidentTimeDefaultValue" [dateFormat]='"DD/MM/YYYY"'
                        [timeFormat]="'HH:mm'" [dateTimeMask]='"00/00/0000 00:00"'
                        (dateChanged)="onCalendarDateChanged($event)" #customDatepicker>
                    </msi-date-time-picker-control>
                </div>
                <div class="form-group">
                    <label class="msi-label" for="reference-code">
                        Reference code
                    </label>
                    <input class="msi-input" type="text" id="reference-code" autocomplete="reference-code"
                        formControlName="reference-code" [readonly]="view">
                </div>
                <div class="form-group">
                    <label class="msi-label" for="notes">
                        Notes
                    </label>
                    <textarea class="msi-textarea" id="notes" autocomplete="notes" formControlName="notes" cols="22"
                        rows="10" [readonly]="view"></textarea>
                </div>
                <div class="form-group">
                    <label class="msi-label" for="nClips">
                        Clip count
                    </label>
                    <input class="msi-input" type="text" id="nClips" autocomplete="nClips" formControlName="nClips"
                        [readonly]="true">
                </div>
                <div class="form-group">
                    <label class="msi-label" for="owner">
                        Owner
                    </label>
                    <input class="msi-input" type="text" id="owner" autocomplete="owner" formControlName="owner"
                        [readonly]="true">
                </div>
                <div class="form-group">
                    <label class="msi-label" for="signature">
                        Signature
                    </label>
                    <input class="msi-input" type="text" id="signature" autocomplete="signature"
                        formControlName="signature" [readonly]="true">
                </div>
                <div *ngIf="!view">
                    <button class="msi-btn form-button" type="submit">Submit</button>
                </div>
            </form>
        </msi-card-content>
    </msi-card>
</div>