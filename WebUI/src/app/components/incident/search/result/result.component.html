<div class="incident-search-result-wrapper">
    <!-- <button (click)="addIncident()">Add Incident</button> {{newIncidentId}} -->
    <div>
        <div class="list-view-label-wrapper">
            <msi-icon name="ic_data_table" class="ic-data-table"></msi-icon>
            <p class="list-view-label">List View</p>
            <msi-icon (click)="manageIncident('create', 0)" name="ic_add" class="ic_add list-top-actions" title="Create Incident">
            </msi-icon>
        </div>
    </div>
    <table class="msiDatatable" msi-data-table [rows]="results"
        style="width: 100%; min-width: 365px; flex: 1 1; display: block;height:calc(100vh - 180px);" [condensed]="false"
        [pinning]="false" [selection]="true" [virtualScroll]="true">
        <ng-container msiColDef="text" [width]="200" [fixedWidth]="true">
            <ng-container *msiHeaderCellDef>
                <div msiTooltip="Left" position="left">Reference Code</div>
            </ng-container>
            <ng-container *msiCellDef="let row">{{row.referenceCode}}</ng-container>
        </ng-container>
        <ng-container msiColDef="text" [width]="350" [fixedWidth]="true">
            <ng-container *msiHeaderCellDef>
                <div msiTooltip="Left" position="left">Title</div>
            </ng-container>
            <ng-container *msiCellDef="let row">{{row.title}}</ng-container>
        </ng-container>
        <ng-container msiColDef="text" [width]="200" [fixedWidth]="true">
            <ng-container *msiHeaderCellDef>
                <div msiTooltip="Left" position="left">Incident Time</div>
            </ng-container>
            <ng-container *msiCellDef="let row"> {{row.incidentTime | date:'dd/MM/YYYY HH:mm'}}</ng-container>
        </ng-container>
        <ng-container msiColDef="text" [width]="45" [fixedWidth]="true" [sortable]="false">
            <ng-container *msiCellDef="let row">
                <msi-icon (click)="manageIncident('edit',row.id)" name="ic_edit" class="ic_edit" title="Edit Incident">
                </msi-icon>
            </ng-container>
        </ng-container>
        <ng-container msiColDef="text" [width]="45" [fixedWidth]="true" [sortable]="false">
            <ng-container *msiCellDef="let row">
                <msi-icon (click)="manageIncident('view',row.id)" name="ic_arrow_right" class="ic_arrow_right"
                    title="View Incident">
                </msi-icon>
            </ng-container>
        </ng-container>
        <ng-container msiColDef="text" [width]="45" [fixedWidth]="true" [sortable]="false">
            <ng-container *msiCellDef="let row">
                <msi-icon (click)="manageIncident('delete',row.id)" name="ic_remove" class="ic_remove"
                    title="Delete Incident">
                </msi-icon>
            </ng-container>
        </ng-container>
        <ng-container msiColDef="text" [width]="40" [fixedWidth]="true" [sortable]="false">
            <ng-container *msiCellDef="let row">
                <msi-icon (click)="manageIncident('export',row.id)" name="ic_export" class="ic_export"
                    title="Export Incident">
                </msi-icon>
            </ng-container>
        </ng-container>
    </table>
</div>